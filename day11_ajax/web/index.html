<!DOCTYPE html>
<html lang="en">
<head>
    <base href="/day11_ajax_war_exploded/">
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/vue.js"></script>
    <script src="js/axios.min.js"></script>
</head>
<body>
    <div id="app">
        <input type="button" value="按钮" @click="ajaxTest">
        <input type="button" value="按钮02" @click="ajaxTest02">
    </div>
    <script>
        new Vue({
            el:"#app",
            data:{},
            methods:{
                ajaxTest:function () {
                    //发送请求到Servlet(使用axios异步请求框架)
                    axios({
                        method:"post",
                        url:"ajax",
                        params:{
                            username:"admin",
                            password:"root"
                        }
                    }).then(response=>{
                        //如果响应状态码是200，则执行该函数(回调函数)
                        alert("成功:"+response.data);//json对象（axios框架，如果识别到返回的字符串符合json格式要求，则自动转为json对象）
                        console.log(response.data.id)
                        console.log(response.data.name)
                        console.log(response.data.gender)
                        console.log(response.data.salary)
                    }).catch(error=>{
                        //如果响应状态码是500，则执行该函数(回调函数)
                        alert("服务器出现异常");
                    });
                    //alert(100);
                },
                ajaxTest02:function () {

                    axios({
                        method:"post",
                        url:"ajax02",
                        params:{
                            username:"admin"
                        }
                    }).then(response=>{
                        console.log(response.data.flag);
                        console.log(response.data.resultData.name)
                    });
                }
            }
        })
    </script>
</body>
</html>